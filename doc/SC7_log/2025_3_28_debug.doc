总结：引入用户程序，中断异常，线程时碰到的问题：
1.首先是进入用户态，因为没有使用rustsbi也没有对M态初始化，进入用户态会卡死
    解决方案：对照ucore ch2的csr值后，发现mstatus不同，引入xv6-2021的start来初始化M态，可以运行

2.用户程序卡死在第二条指令。第一条是addi sp,sp,-32 。第二条是在栈上存值。
    解决方案：首先用gdb查找错误指令，查看寄存器值，这揭示了第三个问题

3.栈指针指向最高位，访存异常。
    解决方案：在trampoline,userret中手动设置sp值可以解决。配置好vscode debug后调试发现void hsai_set_trapframe_pagetable()错误的把sp设为0,修改后可以正常运行
    反思：复制粘贴代码块要仔细检查，不要多线开发，以防出现疏忽，难以找到错误